<!-- components/optionalStock/optionalStock.wxml -->
<view class="content">
  <view class="form">
    <div class="title">自选股</div>
    <picker class="picker" bindchange="bindPickerChange" value="{{index}}" range="{{selector}}" range-key="name">
      <view class="picker_content">{{selector[index].name}}</view>
    </picker>
    <view class="btn" bindtap="toEditCustom">编辑板块</view>
  </view>
  <view class="flex-box flex-column">
    <view class="flex-row thead">
      <text class="flex-cell flex-row col-16-1">序</text>
      <view class="flex-cell flex-row col-16-4 flex-2-row">
        <text class="text">名称</text>
        <text class="text">代码</text>
      </view>
      <view class="flex-cell flex-row col-16-4 flex-2-row">
        <text class="text">最新价</text>
        <text class="text">涨幅</text>
      </view>
      <view class="flex-cell flex-row col-16-4 flex-2-row">
        <text class="text">成交量</text>
        <text class="text">成交额</text>
      </view>
      <view class="flex-cell flex-row col-16-3 flex-2-row">
        <text class="text">昨收</text>
        <text class="text">今开</text>
      </view>
    </view>
  </view>
  <view style='font-size:24rpx;text-align:center;' hidden='{{allData.length !== 0}}'>
    暂无自选股内容
  </view>
  <scroll-view class="scrollView" hidden='{{allData.length === 0}}' scroll-y="true" style='height: {{scrollHeight}}px;'>
    <view class="flex-box flex-column">
      <block wx:for="{{allData}}" wx:key="{{item.name}}" wx:for-item="item">
        <view class="flex-row" data-stock="{{item}}" bindtap="navigateToStock" data-item="{{item}}" bindlongpress="removeThis">
          <text class="flex-cell flex-row col-16-1">{{index + 1}}</text>
          <view class="flex-cell flex-row col-16-4 flex-2-row">
            <text>{{item.stockName}}</text>
            <text>{{item.stockCode}}</text>
          </view>
          <view class="flex-cell flex-row col-16-4 flex-2-row">
            <text>{{item.cjj}}</text>
            <text>{{item.zf}}%</text>
          </view>
          <view class="flex-cell flex-row col-16-4 flex-2-row">
            <text>{{item.cjl}}</text>
            <text>{{item.cje}}</text>
          </view>
          <view class="flex-cell flex-row col-16-3 flex-2-row">
            <text>{{item.zsj}}</text>
            <text>{{item.kpj}}</text>
          </view>
        </view>
      </block>
    </view>
  </scroll-view>
</view>